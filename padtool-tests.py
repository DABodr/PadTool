from fileexts import json_file
from fileexts import txt_file

# C21 Test
def test_c21():
    templateC21 = "jQuery31105080391842886495_1573743988930({\"results\":{\"previous\":[{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576058246\",\"stopTime\":\"1576058405\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"\",\"stopTime\":\"\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"\",\"stopTime\":\"\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576058956\",\"stopTime\":\"1576059136\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576059291\",\"stopTime\":\"1576059474\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576059466\",\"stopTime\":\"1576059695\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576059709\",\"stopTime\":\"1576059886\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576059883\",\"stopTime\":\"1576060153\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576060375\",\"stopTime\":\"1576060639\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576060636\",\"stopTime\":\"1576060887\"}],\"now\":{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"$title\",\"artistName\":\"$artist\",\"song\":true,\"imageUrl\":\"$cover\",\"startTime\":\"\",\"stopTime\":\"\"}},\"total\":11,\"pollNext\":60000})"
    fileC21 = b'jQuery31105080391842886495_1573743988930({\"results\":{\"previous\":[{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576058246\",\"stopTime\":\"1576058405\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"\",\"stopTime\":\"\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"\",\"stopTime\":\"\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576058956\",\"stopTime\":\"1576059136\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576059291\",\"stopTime\":\"1576059474\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576059466\",\"stopTime\":\"1576059695\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576059709\",\"stopTime\":\"1576059886\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576059883\",\"stopTime\":\"1576060153\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576060375\",\"stopTime\":\"1576060639\"},{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"\",\"artistName\":\"\",\"song\":true,\"imageUrl\":\"\",\"startTime\":\"1576060636\",\"stopTime\":\"1576060887\"}],\"now\":{\"type\":\"\",\"rpId\":\"2\",\"serviceName\":\"\",\"serviceDescription\":\"\",\"programmeName\":\"\",\"programmeDescription\":\"\",\"name\":\"CAN T STOP\",\"artistName\":\"RED HOT CHILI PEPPERS\",\"song\":true,\"imageUrl\":\"https://static.fnac-static.com/multimedia/FR/Images_Produits/FR/fnac.com/Visual_Principal_340/6/0/4/4943674063406/tsp20120924121513/By-the-way.jpg\",\"startTime\":\"\",\"stopTime\":\"\"}},\"total\":11,\"pollNext\":60000})'
    assert json_file.parseJson(fileC21, templateC21) == ("RED HOT CHILI PEPPERS", "CAN T STOP", "https://static.fnac-static.com/multimedia/FR/Images_Produits/FR/fnac.com/Visual_Principal_340/6/0/4/4943674063406/tsp20120924121513/By-the-way.jpg")

#RB Test
def rb_test():
    templateRB = "$artist - $title"
    fileRB = b"Queens of the Stone Age - Go With The Flow"
    assert txt_file.parseTxt(fileRB, templateRB) == ("Queens of the Stone Age", "Go With The Flow", "")